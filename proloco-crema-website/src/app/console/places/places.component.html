<div style="padding: 100px">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Places</mat-card-title>
            <span style="flex: 1 1 auto;"></span>

            <!-- Opens a dialog to add a new place -->
            <button mat-raised-button color="primary" (click)="addPlace()">Add place</button>
        </mat-card-header>

        <div style="height: 16px;"></div>

        <mat-accordion>
            <mat-expansion-panel *ngFor="let place of places">
                <!-- Expansion panel title and description -->
                <mat-expansion-panel-header>
                    <mat-panel-title>{{place.title}}</mat-panel-title>
                    <mat-panel-description>{{place.address}}</mat-panel-description>
                </mat-expansion-panel-header>
                <div *ngIf="place.descriptions != null">
                    <!-- This select sets the default description -->
                    <mat-form-field>
                        <mat-select placeholder="Default descriptions" [(value)]="place.defaultDescription" (selectionChange)="changeDefaultDescription(places.indexOf(place), place.defaultDescription)">
                            <mat-option *ngFor="let description of place.descriptions.texts" [value]="place.descriptions.texts.indexOf(description)">
                                {{place.descriptions.texts.indexOf(description)}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <!-- List of descriptions -->
                    <h3 class="mat-h3">Descriptions</h3>
                    <app-descriptions-list [descriptions]="place.descriptions.texts"></app-descriptions-list>
                    <!-- place options -->
                    <div style="width: 100%; padding-top: 16px;" fxLayoutAlign="end end">
                        <!-- Allows the user edit the place, should shows a dialog -->
                        <button mat-raised-button color="primary" style="margin: 0 8px;">Edit place</button>
                
                        <!-- Enable the user to add a description through a dialog -->
                        <button mat-raised-button color="primary" style="margin-left: 8px;" (click)="addDescription()">Add description</button>
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </mat-card>
</div>